{% extends "base.html" %}
{% block content %}

<section class="min-h-screen pt-24 pb-16 px-6 bg-gradient-to-br from-[#0f172a] via-[#1e293b] to-[#0f172a] text-gray-100">
  <div class="max-w-5xl mx-auto">

    <!-- Page Header -->
    <div class="text-center mb-10">
      <h1 class="text-4xl font-bold mb-3 text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-indigo-400">
        Truth Analyzer
      </h1>
      <p class="text-gray-400 text-lg">Verify text, images, links, or transcripts using AI-powered credibility detection.</p>
    </div>

    <!-- Analyze Inputs -->
    <div class="glass-card p-6 rounded-2xl animate-fade-up space-y-6">

      <!-- Text / Link Input -->
      <div>
        <label for="inputContent" class="block mb-2 text-gray-300 font-medium">📝 Text or Link</label>
        <textarea id="inputContent" rows="4" class="w-full p-3 bg-black/40 border border-white/10 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none resize-none" placeholder="Paste text, caption, or a URL..."></textarea>
      </div>

      <!-- File Upload -->
      <div class="flex flex-wrap items-center gap-4">
        <label for="fileInput" class="block text-gray-300 font-medium">🖼️ Upload Image / Screenshot</label>
        <input type="file" id="fileInput" accept="image/*" class="text-gray-200"/>
      </div>

      <!-- Transcript Input -->
      <div>
        <label for="transcriptInput" class="block mb-2 text-gray-300 font-medium">🎬 Video Transcript (optional)</label>
        <textarea id="transcriptInput" rows="3" class="w-full p-3 bg-black/40 border border-white/10 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none resize-none" placeholder="Paste YouTube transcript or captions..."></textarea>
      </div>

      <!-- Action Buttons -->
      <div class="flex flex-wrap gap-4 justify-center mt-4">
        <button id="btnAnalyzeText" class="btn-primary px-6 py-2 rounded-lg bg-sky-600 hover:bg-sky-700 transition flex items-center gap-2">
          🔍 Analyze Text / Link
        </button>
        <button id="btnAnalyzeFile" class="btn-secondary px-6 py-2 rounded-lg hover:bg-white/10 transition flex items-center gap-2">
          🖼️ Analyze Image
        </button>
        <button id="btnAnalyzeTranscript" class="btn-secondary px-6 py-2 rounded-lg hover:bg-white/10 transition flex items-center gap-2">
          🎬 Analyze Transcript
        </button>
        <button id="btnClear" class="btn-secondary px-6 py-2 rounded-lg hover:bg-white/10 transition">
          🧹 Clear
        </button>
        <button id="btnCopy" class="btn-secondary px-6 py-2 rounded-lg hover:bg-white/10 transition">
          📋 Copy
        </button>
      </div>
    </div>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="flex justify-center mt-10 hidden">
      <div class="loader border-t-4 border-sky-500 rounded-full w-12 h-12 animate-spin"></div>
    </div>

    <!-- Results Area -->
    <div id="resultsArea" class="mt-10 glass-card p-6 rounded-2xl animate-fade hidden">
      <h2 class="text-2xl font-semibold mb-4 text-sky-400">Results</h2>

      <!-- Dynamic AI Output Here -->
      <div id="aiResultsContent" class="text-gray-300 space-y-4">
        <!-- JS injects credibility score, summary, and sources here -->
      </div>
    </div>

    <!-- History -->
    <div class="glass-card p-6 rounded-2xl mt-10 animate-fade-up">
      <h2 class="text-xl font-semibold mb-3">🕓 Recent Analyses</h2>
      <div id="historyList" class="space-y-3 text-gray-400 text-sm"></div>
    </div>

  </div>
</section>

{% endblock %}